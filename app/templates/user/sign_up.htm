{% from "macros/form.htm" import render_form, render_field, render_checkbox, render_submit %}

{% extends "content.htm" %}


{% macro render_before_hook(f) %}
{%- if f.type == 'FieldVerticalSplit' -%}
<legend>
{%- if f.name == 'register_split' -%}
{{ _('Register') }}
{%- endif -%}
</legend>
{%- endif -%}
{% endmacro %}

{% macro submit_renderer() %}

<div class="row">
    <div class="col-md-12">
        <div class="well">
            {% set link = '<a href="{}" target="_blank">{}</a>'.format(privacy_policy_url, _('Privacy Policy')) | safe %}
            {{ _('By clicking \'Register\', you agree to our %(link)s.', link=link) }}
        </div>
    </div>
</div>

{{ render_submit(_('Register')) }}

{% endmacro %}

{% block content %}

{{ render_form(form, form_name="sign_up",
    render_before_hook=render_before_hook, submit_renderer=submit_renderer) }}

{% endblock %}
